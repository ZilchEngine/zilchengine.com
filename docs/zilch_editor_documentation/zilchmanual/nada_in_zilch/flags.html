<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Flags Rules | ZilchEngine </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Flags Rules | ZilchEngine ">
      
      
      <link rel="icon" href="../../../../favicon.ico">
      <link rel="stylesheet" href="../../../../public/docfx.min.css">
      <link rel="stylesheet" href="../../../../public/main.css">
      <meta name="docfx:navrel" content="../../../../toc.html">
      <meta name="docfx:tocrel" content="../../../toc.html">
      
      <meta name="docfx:rel" content="../../../../">
      
      
      <meta name="docfx:docurl" content="https://github.com/ZilchEngine/ZilchEngineWebsite/blob/master/docs/zilch_editor_documentation/zilchmanual/nada_in_zilch/flags.md/#L1">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">
  </head>

  <script type="module" src="./../../../../public/docfx.min.js"></script>

  <script>
    const theme = localStorage.getItem('theme') || 'auto'
    document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
  </script>


  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../../../../index.html">
            <img id="logo" class="svg" src="../../../../images/ZilchLogo.svg" alt="ZilchEngine">
            ZilchEngine
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled="" placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" style="margin-top: -.65em; margin-left: -.8em" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">

<p>Flags are very similar to <a href="enums.html">enums</a> except that they are ordered like a bit field (i.e. increasing in powers of two starting at 1 by default). Flags can be defined with the <strong>flags</strong> keyword:</p>
<pre><code class="lang-TS:Flags">flags Pizza 
{ 
  Sauce, 
  Cheese, 
  Pepperoni, 
  Sausage, 
  Peppers, 
  Onion, 
  Mushroom, 
  Pineapple, 
  CanadianBacon, 
  Artichokes 
}
</code></pre>
<p>The names flags enumeration line up with Integral Powers of two, the default starting value is <code>1</code>:</p>
<pre><code>Console.WriteLine(&quot;Pizza.Sauce         as Integer: `Pizza.Sauce         as Integer`&quot;);
Console.WriteLine(&quot;Pizza.Cheese        as Integer: `Pizza.Cheese        as Integer`&quot;);
Console.WriteLine(&quot;Pizza.Pepperoni     as Integer: `Pizza.Pepperoni     as Integer`&quot;);
Console.WriteLine(&quot;Pizza.Sausage       as Integer: `Pizza.Sausage       as Integer`&quot;);
Console.WriteLine(&quot;Pizza.Peppers       as Integer: `Pizza.Peppers       as Integer`&quot;);
Console.WriteLine(&quot;Pizza.Onion         as Integer: `Pizza.Onion         as Integer`&quot;);
Console.WriteLine(&quot;Pizza.Mushroom      as Integer: `Pizza.Mushroom      as Integer`&quot;);
Console.WriteLine(&quot;Pizza.Pineapple     as Integer: `Pizza.Pineapple     as Integer`&quot;);
Console.WriteLine(&quot;Pizza.CanadianBacon as Integer: `Pizza.CanadianBacon as Integer`&quot;);
Console.WriteLine(&quot;Pizza.Artichokes    as Integer: `Pizza.Artichokes    as Integer`&quot;);
</code></pre>
<pre><code class="lang-name=Console">Pizza.Sauce         as Integer: 1
Pizza.Cheese        as Integer: 2
Pizza.Pepperoni     as Integer: 4
Pizza.Sausage       as Integer: 8
Pizza.Peppers       as Integer: 16
Pizza.Onion         as Integer: 32
Pizza.Mushroom      as Integer: 64
Pizza.Pineapple     as Integer: 128
Pizza.CanadianBacon as Integer: 256
Pizza.Artichokes    as Integer: 512
</code></pre>
<p>Flags are meant to work together; consider the following:</p>
<pre><code class="lang-TS:Adding">var hawaiian : Pizza = Pizza.Sauce + Pizza.Cheese + Pizza.CanadianBacon + Pizza.Pineapple;
Console.WriteLine(hawaiian);
// Using bitwise and, '&amp;', to determine if the hawaiian pizza has pepperoni on it
if ((hawaiian &amp; Pizza.Pepperoni) != 0)
{
    Console.WriteLine(&quot;Hawaiian pizza has `Pizza.Pepperoni` on it.&quot;);
}
else 
{
    Console.WriteLine(&quot;Hawaiian pizza does not have `Pizza.Pepperoni` on it.&quot;);
}
</code></pre>
<pre><code class="lang-name=Console">---------------- Begin Game ---------------
Sauce | Cheese | Pineapple | CanadianBacon
Hawaiian pizza does not have Pepperoni on it.
</code></pre>
<p><em>Notice how it prints all of the active flags</em></p>
<p>Basically, flags are enums that assign the next value by multiplying the previous value by two.
For instance, given:</p>
<pre><code class="lang-TS:Defining">flags Cookie
{
  ChocolateChips, 
  Raisins, 
  Oatmeal, 
  MacadamiaNuts = 3,
  Peanuts,
  Pecans, 
  Caramel,
  Ginger, 
  Cinnamon,
  Sugar = 3
}
</code></pre>
<p>The values are different:</p>
<pre><code class="lang-TS">Console.WriteLine(&quot;Cookie.ChocolateChips as Integer: `Cookie.ChocolateChips as Integer`&quot;);
Console.WriteLine(&quot;Cookie.Raisins        as Integer: `Cookie.Raisins        as Integer`&quot;);
Console.WriteLine(&quot;Cookie.Oatmeal        as Integer: `Cookie.Oatmeal        as Integer`&quot;);
Console.WriteLine(&quot;Cookie.MacadamiaNuts  as Integer: `Cookie.MacadamiaNuts  as Integer`&quot;);
Console.WriteLine(&quot;Cookie.Peanuts        as Integer: `Cookie.Peanuts        as Integer`&quot;);
Console.WriteLine(&quot;Cookie.Pecans         as Integer: `Cookie.Pecans         as Integer`&quot;);
Console.WriteLine(&quot;Cookie.Caramel        as Integer: `Cookie.Caramel        as Integer`&quot;);
Console.WriteLine(&quot;Cookie.Ginger         as Integer: `Cookie.Ginger         as Integer`&quot;);
Console.WriteLine(&quot;Cookie.Cinnamon       as Integer: `Cookie.Cinnamon       as Integer`&quot;);
Console.WriteLine(&quot;Cookie.Sugar          as Integer: `Cookie.Sugar          as Integer`&quot;);
</code></pre>
<pre><code class="lang-name=Console">Cookie.ChocolateChips as Integer: 1
Cookie.Raisins        as Integer: 2
Cookie.Oatmeal        as Integer: 4
Cookie.MacadamiaNuts  as Integer: 3
Cookie.Peanuts        as Integer: 6
Cookie.Pecans         as Integer: 12
Cookie.Caramel        as Integer: 24
Cookie.Ginger         as Integer: 48
Cookie.Cinnamon       as Integer: 96
Cookie.Sugar          as Integer: 3
</code></pre>
<p><em>Notice how after MacadamiaNuts is set to 3, the increment is no longer on powers of 2</em></p>
<p>The underlying structure is <a href="../../../code_reference/nada_base_types/integer.html">integer</a>; therefore, you could interpret Integers as a flags type:</p>
<pre><code class="lang-TS:Casting">var random: Pizza = 583 as Pizza;
Console.WriteLine(random);
Console.WriteLine(7 as Cookie);
</code></pre>
<pre><code class="lang-name=Console">Sauce | Cheese | Pepperoni | Mushroom | Artichokes
ChocolateChips | Raisins | Oatmeal | MacadamiaNuts | Peanuts | Sugar
</code></pre>
<p><em>Notice how flags print both enumerated values if the flags share the same underlying integer value.</em></p>
<h1 id="flags-rules">Flags Rules</h1>
<h2 id="identifier-capitalization">Identifier Capitalization</h2>
<p>Identifiers for the flags type name and the enumerated values must be capitalized.</p>
<pre><code class="lang-TS:Invalid">// This will not compile. 
flags Directions {up, down, left, right}
</code></pre>
<pre><code class="lang-name=Console">Enum declaration 'Directions' does not have a closing '}'. We found 'LowerIdentifier' but we
expected to find '}'.
</code></pre>
<pre><code class="lang-TS:Invalid">// Neither will this.
flags directions {Up, Down, Left, Right}
</code></pre>
<pre><code class="lang-name=Console">Enum declaration is missing a name. Upper-camel case names are required here (use 'Directions'
instead of 'directions').
</code></pre>
<h2 id="unique-identifiers">Unique Identifiers</h2>
<p>Identifiers for the enumerated values must be unique.</p>
<pre><code class="lang-TS:Duplicate">// This will not compile.
flags Directions {Up, Down, Up, Down}
</code></pre>
<pre><code class="lang-name=Console">A value of the same name 'Up' has already been declared in the enum 'Directions'. Names must 
only be used once.
</code></pre>
<h2 id="definition-scope">Definition Scope</h2>
<p>Flags cannot be defined inside classes, structs, or other enums.</p>
<pre><code class="lang-TS:Incorrectly">// Classes cannot contain flags.
class FlagsWrapper
{
  // This won't compile.
  flags Directions {Up, Down, Left, Right};
}
</code></pre>
<pre><code class="lang-name=Console">Class declaration 'FlagsWrapper' does not have a closing '}'. We found 'flags' but we expected to find '}'.
</code></pre>
<h2 id="representation">Representation</h2>
<p>If there is no enumerated value the enum is represented as an Integer:</p>
<pre><code class="lang-TS:Integer">Console.WriteLine((64) as Cookie);
</code></pre>
<pre><code class="lang-name=Console">64
</code></pre>
<h1 id="flags-and-integers">Flags and Integers</h1>
<p>As in other languages, Integers make up the backbone of how flags work, and thus they work together in many situations.</p>
<h2 id="casting">Casting</h2>
<p>Because of this, Nada will implicitly cast from a flag to an Integer when necessary:</p>
<pre><code class="lang-TS:Implict">class FlagsExample
{
  [Static]
  // This function accepts an flags type.
  function AcceptsFlags(param: Pizza)
  {
    Console.WriteLine(&quot; turned into `param`!&quot;);
  }
  
  [Static]
  // This function accepts an integer type.
  function AcceptsInt(param: Integer)
  {
    Console.WriteLine(&quot; turned into `param`!&quot;);
  }
}
</code></pre>
<p>We can test the calls to these functions to see the interplay of casting:</p>
<pre><code class="lang-TS">var paramInt = 128;
var paramFlags = Pizza.Pineapple;

// This works, as you'd expect
Console.Write(paramFlags);
FlagsExample.AcceptsFlags(paramFlags);

// But if you want to accept an Integer in an enum's place you MUST cast. 
Console.Write(paramInt);
*FlagsExample.AcceptsFlags(paramInt); * Doesn't compile
FlagsExample.AcceptsFlags(paramInt as Pizza);
</code></pre>
<pre><code class="lang-name=Console">Pineapple turned into Pineapple!
128 turned into Pineapple!
</code></pre>
<pre><code class="lang-TS:Invalid">// Attempting to pass an Integer without casting to an enum 
// will cause a compiler error
Console.Write(paramInt);
FlagsExample.AcceptsFlags(paramInt);
</code></pre>
<pre><code class="lang-name=Console">The function 'AcceptsFlags' exists, but could not be resolved since the 
types of the arguments used did not match. The arguments you gave were: 

  AcceptsFlags(Integer)

The possible choices were: 

  AcceptsFlags(param : Pizza)
</code></pre>
<pre><code class="lang-TS">// This also works as you'd expect. 
Console.Write(paramInt);
FlagsExample.AcceptsInt(paramInt);

// The flags type parameter is implicitly casted to an Integer and is then passed to the function. 
Console.Write(paramFlags);
FlagsExample.AcceptsInt(paramFlags);
</code></pre>
<pre><code class="lang-name=Console">128 turned into 128!
Pineapple turned into 128!
</code></pre>
<h2 id="flag-integer-operations">Flag-Integer Operations</h2>
<p>Flags can perform all operations as if they were Integers. For instance, you can perform all of the normal math operations as implicit conversion will happen as necessary from the enum type to Integer:</p>
<pre><code class="lang-TS:Flags">// Here you can see use of the +, -, *, /, (), ^ and % Integer operators.
var pizza = (Pizza.Sauce + Pizza.Cheese) ^ Pizza.Sausage % 
           Pizza.Mushroom - Pizza.Artichokes * Pizza.Peppers;
           
// When the math evaluates to an unaliased number, the variable, although still of the enum type, 
// prints out its integer value.
Console.WriteLine(pizza); 
Console.WriteLine(typeid(pizza).Name);
</code></pre>
<pre><code class="lang-name=Console">Sauce | Onion (-8159)
Pizza
</code></pre>
<p>You can see the typeid is not an Integer but Pizza. An Integer value was printed because there were flags with no alias in that maps all aspects of <code>-8159</code>. Because the type is still of the flags, you could pass it to our <code>FlagsExample.AcceptsFlags</code> function without issue. When an operation includes both a flags and an Integer the result is always promoted to the flags type. If you want an Integer either</p>
<ul>
<li>Declare the variable you are storing the result in as an Integer: <code>var result : Integer</code></li>
<li>Cast it: <code>result as Integer</code></li>
</ul>
<h2 id="caveat">Caveat</h2>
<p>Although flags cast to Integers, they <strong>will not</strong> cast to Integers to perform cross-flags operations.</p>
<pre><code class="lang-TS:Invalid">// This won't compile.
Console.WriteLine(Pizza.Pineapple + Cookie.Sugar);
</code></pre>
<pre><code class="lang-name=Console">The binary '+' operator 'Positive / Add' is not valid with 'Pizza' and 'Cookie'.
</code></pre>
<h1 id="related-materials">Related Materials</h1>
<h1 id="manual">Manual</h1>
<ul>
<li><a href="enums.html">enums</a></li>
</ul>
<h2 id="code-reference">Code Reference</h2>
<ul>
<li><a href="../../../code_reference/flags_reference.html">flags_reference</a></li>
<li><a href="../../../code_reference/nada_base_types/integer.html">integer</a></li>
</ul>

</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/ZilchEngine/ZilchEngineWebsite/blob/master/docs/zilch_editor_documentation/zilchmanual/nada_in_zilch/flags.md/#L1" class="edit-link">Edit this page</a>
        </div>

        <div class="next-article d-print-none border-top" id="nextArticle"></div>

      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          ZilchEngine 2024
        </div>
      </div>
    </footer>
  </body>
</html>
