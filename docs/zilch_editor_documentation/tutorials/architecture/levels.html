<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Learning Objectives | ZilchEngine </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Learning Objectives | ZilchEngine ">
      
      <link rel="icon" href="../../../../favicon.ico">
      <link rel="stylesheet" href="../../../../public/docfx.min.css">
      <link rel="stylesheet" href="../../../../public/main.css">
      <meta name="docfx:navrel" content="../../../../toc.html">
      <meta name="docfx:tocrel" content="../../../toc.html">
      
      <meta name="docfx:rel" content="../../../../">
      
      
      <meta name="docfx:docurl" content="https://github.com/ZilchEngine/ZilchEngineWebsite/blob/master/docs/zilch_editor_documentation/tutorials/architecture/levels.md/#L1">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">
  </head>

  <script type="module" src="./../../../../public/docfx.min.js"></script>

  <script>
    const theme = localStorage.getItem('theme') || 'auto'
    document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
  </script>


  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../../../../index.html">
            <img id="logo" class="svg" src="../../../../images/ZilchLogo.svg" alt="ZilchEngine">
            ZilchEngine
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled="" placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" style="margin-top: -.65em; margin-left: -.8em" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">

<p>This lesson covers levels in the Zilch Engine.</p>
<h1 id="learning-objectives">Learning Objectives</h1>
<ul>
<li>Creating new levels</li>
<li>Loading and reloading levels</li>
<li>Setting the StartingLevel</li>
</ul>
<h1 id="level-setup">Level Setup</h1>
<ul>
<li><a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/zilch_editor_documentation/zilchmanual/editor/editorcommands/commands.md"> Command</a> : <a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/code_reference/command_reference.md#newproject"> New Project</a></li>
<li>Create a new project using the {nav icon=clone, name=Empty 2D Project} template</li>
</ul>
<h1 id="what-is-a-level">What is a Level?</h1>
<p>A Level resource is a resource that stores a list of objects. These objects are created when the level is <strong>loaded</strong>.</p>
<h1 id="creating-a-new-level">Creating a New Level</h1>
<p>Levels are added to the project in basically the same way as any other resource: by <a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/zilch_editor_documentation/zilchmanual/editor/editorcommands/resourceadding.md"> adding a resource</a> using one of the pre-defined resource templates.</p>
<ul>
<li><a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/zilch_editor_documentation/zilchmanual/editor/editorcommands/commands.md"> Command</a> : <a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/zilch_editor_documentation/zilchmanual/editor/editorcommands/resourceadding.md"> Add Resource</a></li>
</ul>
<p><img src="https://raw.githubusercontent.com/ZilchEngine/ZilchFiles/master/doc_files/96086.png" alt="image"></p>
<p><em>Zilch's Level templates</em></p>
<p>Zilch's built-in Level templates are like shortcuts for creating levels of different kinds: they've already got the important cogs, like renderers and cameras, and they're pre-configured to be suitable for the chosen type of level. The {nav icon=clone, name=&quot;2D Level&quot;} template provides a <strong>forward renderer</strong> and an <strong>orthographic camera</strong>, perfect for a simple 2D game.</p>
<ul>
<li>Create a Level resource using the {nav icon=clone, name=&quot;2D Level&quot;} template and name it <code>Level1</code></li>
<li><a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/zilch_editor_documentation/zilchmanual/editor/editorcommands/selectobject.md"> Select</a> : Renderer object</li>
<li>In the <code>Properties Window</code></li>
<li>Under <code>ForwardRenderer</code></li>
<li>Set ClearColor  to <code>[R:16, G:78, B:32, A:1.00]</code></li>
<li><a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/zilch_editor_documentation/zilchmanual/editor/editorcommands/commands.md"> Command</a> : <a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/code_reference/command_reference.md#createspritetext"> CreateSpriteText</a></li>
<li>In the <code>Properties Window</code></li>
<li>Rename SpriteText object to <code>LevelNameText</code></li>
<li>Under <a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/code_reference/class_reference/transform.md"> Transform</a></li>
<li>Set Translation  to <code>[0, 5, 0]</code></li>
<li>Under <a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/code_reference/class_reference/spritetext.md"> SpriteText</a></li>
<li>Set Text  to <code>- Level 1 -</code></li>
<li>Set PixelsPerUnit  to <code>32</code></li>
</ul>
<p><img src="https://raw.githubusercontent.com/ZilchEngine/ZilchFiles/master/doc_files/96093.png" alt="image"></p>
<p><em>Level 1</em></p>
<p>(NOTE) <strong>A Closer Look:</strong>
Take a look at the <code>Objects Window</code>:
<img src="https://raw.githubusercontent.com/ZilchEngine/ZilchFiles/master/doc_files/96099.png" alt="image">
This is the list of objects in this level. In a sense, this list <em>is</em> this level, since a level is basically a list of objects. These objects are stored in the Level resource resource, listed as they are here, each with its properties as set in the <code>Properties Window</code>. When the level is loaded, each of these objects is created and initialized.</p>
<h2 id="creating-a-player">Creating a Player</h2>
<p>There's no sense in having a level if there's no player, eh?</p>
<ul>
<li><a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/zilch_editor_documentation/zilchmanual/editor/editorcommands/commands.md"> Command</a> : <a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/zilch_editor_documentation/zilchmanual/editor/editorcommands/resourceadding.md"> Add Resource</a></li>
<li>Create a NadaScript resource using the Component template template and name it <code>KeyboardMovement</code></li>
<li>Update the <code>KeyboardMovement</code> script to the following:</li>
</ul>
<pre><code class="lang-lang=csharp,">class KeyboardMovement : NadaComponent
{
  [Dependency] var Transform : Transform;
  
  [Property]
  var UpKey    : Keys = Keys.Up;
  [Property]
  var DownKey  : Keys = Keys.Down;
  [Property]
  var RightKey : Keys = Keys.Right;
  [Property]
  var LeftKey  : Keys = Keys.Left;
  [Property]
  var Speed : Real = 8;
  [Property]
  var MinBounds : Real3 = Real3(-12, -8, 0.5);
  [Property]
  var MaxBounds : Real3 = Real3( 12,  8, 0.5);
  
  function Initialize(init : CogInitializer)
  {
    Zilch.Connect(this.Space, Events.LogicUpdate, this.OnLogicUpdate);
  }
  
  function OnLogicUpdate(event : UpdateEvent)
  {
    var movement = Real3.Zero;
    
    if (Zilch.Keyboard.KeyIsDown(this.UpKey))
      movement += Real3.YAxis;
    if (Zilch.Keyboard.KeyIsDown(this.DownKey))
      movement -= Real3.YAxis;
    if (Zilch.Keyboard.KeyIsDown(this.RightKey))
      movement += Real3.XAxis;
    if (Zilch.Keyboard.KeyIsDown(this.LeftKey))
      movement -= Real3.XAxis;
    
    var newPosition = this.Transform.LocalTranslation + movement * this.Speed * event.Dt;
    this.Transform.LocalTranslation = Math.Clamp(newPosition, this.MinBounds, this.MaxBounds);
  }
}
</code></pre>
<ul>
<li><p><a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/zilch_editor_documentation/zilchmanual/editor/editorcommands/commands.md"> Command</a> : <a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/code_reference/command_reference.md#createsprite"> CreateSprite</a></p>
</li>
<li><p>In the <code>Properties Window</code></p>
</li>
<li><p>Rename Sprite object to <code>Player</code></p>
</li>
<li><p>Under <a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/code_reference/class_reference/transform.md"> Transform</a></p>
</li>
<li><p>Set Translation  to <code>[0, 0, 0.5]</code></p>
</li>
<li><p>Under <a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/code_reference/class_reference/sprite.md"> Sprite</a></p>
</li>
<li><p>Set VertexColor  to <code>[R:64, G:255, B:160, A:1.00]</code></p>
</li>
<li><p>Set SpriteSource  to <code>CircleBordered</code></p>
</li>
<li><p><a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/zilch_editor_documentation/zilchmanual/editor/addremovecomponent.md"> Add Component</a> : <code>SphereCollider</code></p>
</li>
<li><p>Under <a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/code_reference/class_reference/spherecollider.md"> SphereCollider</a></p>
</li>
<li><p>Set Ghost checkBox to <code>true</code></p>
</li>
<li><p><a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/zilch_editor_documentation/zilchmanual/editor/addremovecomponent.md"> Add Component</a> : <code>RigidBody</code></p>
</li>
<li><p>Under <a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/code_reference/class_reference/rigidbody.md"> RigidBody</a></p>
</li>
<li><p>Set DynamicState enum to <code>Kinematic</code></p>
</li>
<li><p><a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/zilch_editor_documentation/zilchmanual/editor/addremovecomponent.md"> Add Component</a> : <code>KeyboardMovement</code></p>
</li>
<li><p><a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/zilch_editor_documentation/zilchmanual/editor/editorcommands/commands.md"> Command</a> : <a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/code_reference/command_reference.md#playgame"> PlayGame</a></p>
</li>
</ul>
<p><img src="https://raw.githubusercontent.com/ZilchEngine/ZilchFiles/master/doc_files/96103.gif" alt="Player movement in Level 1"></p>
<p><em>Player moving around in Level 1</em></p>
<p>You can move the player with the arrow keys.</p>
<ul>
<li><a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/zilch_editor_documentation/zilchmanual/editor/editorcommands/commands.md"> Command</a> : <a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/code_reference/command_reference.md#stopgame"> StopGame</a></li>
</ul>
<p>Now let's make a Level 2 to go to from Level 1.</p>
<h2 id="creating-another-level">Creating Another Level</h2>
<ul>
<li>In the <code>Library Window</code></li>
<li>Under the Level  tag</li>
<li>{nav icon=mouse-pointer, name=&quot;Right click&quot;} the <code>Level1</code> Level resource</li>
<li>Select <strong>Duplicate</strong> to create a copy of <code>Level1</code></li>
<li>Rename the <code>Level1Copy1</code> Level resource to <code>Level2</code></li>
<li>Open the <code>Level2</code> Level resource</li>
</ul>
<p>Level 2 should be visually distinct from Level 1.</p>
<ul>
<li><a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/zilch_editor_documentation/zilchmanual/editor/editorcommands/selectobject.md"> Select</a> : LevelNameText object</li>
<li>In the <code>Properties Window</code></li>
<li>Under <code>SpriteText</code></li>
<li>Set Text  to <code>- Level 2 -</code></li>
<li><a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/zilch_editor_documentation/zilchmanual/editor/editorcommands/selectobject.md"> Select</a> : Renderer object</li>
<li>In the <code>Properties Window</code></li>
<li>Under <code>ForwardRenderer</code></li>
<li>Set ClearColor  to <code>[R:48, G:59, B:84, A:1.00]</code></li>
</ul>
<p><img src="https://raw.githubusercontent.com/ZilchEngine/ZilchFiles/master/doc_files/96096.png" alt="image"></p>
<p><em>Level 2</em></p>
<p>Now let's make some way of going between Level 1 and Level 2.</p>
<h1 id="loading-a-level-in-the-game">Loading a Level in the Game</h1>
<p>Going from one level to another is as simple as calling the <a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/code_reference/class_reference/space.md"> space</a>'s LoadLevel function. Let's make a door: an object that calls that function when the player touches it.</p>
<ul>
<li><a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/zilch_editor_documentation/zilchmanual/editor/editorcommands/commands.md"> Command</a> : <a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/zilch_editor_documentation/zilchmanual/editor/editorcommands/resourceadding.md"> Add Resource</a></li>
<li>Create a NadaScript resource using the Component template template and name it <code>LoadLevelOnCollisionStarted</code></li>
<li>Update the <code>LoadLevelOnCollisionStarted</code> script to the following:</li>
</ul>
<pre><code class="lang-lang=csharp,">class LoadLevelOnCollisionStarted : NadaComponent
{
  [Property]
  var LevelToLoad : Level;
  
  function Initialize(init : CogInitializer)
  {
    Zilch.Connect(this.Owner, Events.CollisionStarted, this.OnCollisionStarted);
  }
  
  function OnCollisionStarted(event : CollisionEvent)
  {
    // If the other object in this collision has a KeyboardMovement component,
    // then it must be the player
    if (event.OtherObject.KeyboardMovement != null)
      this.Space.LoadLevel(this.LevelToLoad);
  }
}
</code></pre>
<ul>
<li><a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/zilch_editor_documentation/zilchmanual/editor/editorcommands/commands.md"> Command</a> : <a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/code_reference/command_reference.md#createsprite"> CreateSprite</a></li>
<li>In the <code>Properties Window</code></li>
<li>Rename Sprite object to <code>Door</code></li>
<li>Under <a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/code_reference/class_reference/transform.md"> Transform</a></li>
<li>Set Translation  to <code>[-5, 3, 0]</code></li>
<li>Set Scale  to <code>[2, 3, 1]</code></li>
<li>Under <a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/code_reference/class_reference/sprite.md"> Sprite</a></li>
<li>Set VertexColor  to <code>[R:230, G:23, B:57, A:1.00]</code></li>
<li><a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/zilch_editor_documentation/zilchmanual/editor/addremovecomponent.md"> Add Component</a> : <code>BoxCollider</code></li>
<li>Under <a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/code_reference/class_reference/boxcollider.md"> BoxCollider</a></li>
<li>Set Ghost checkBox to <code>true</code></li>
<li><a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/zilch_editor_documentation/zilchmanual/editor/addremovecomponent.md"> Add Component</a> : <code>LoadLevelOnCollisionStarted</code></li>
<li>Under <code>LoadLevelOnCollisionStarted</code></li>
<li>Set LevelToLoad resource to <code>Level1</code></li>
</ul>
<p><img src="https://raw.githubusercontent.com/ZilchEngine/ZilchFiles/master/doc_files/96108.png" alt="image"></p>
<p><em>Level 2 now has a door</em></p>
<ul>
<li><a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/zilch_editor_documentation/zilchmanual/editor/editorcommands/commands.md"> Command</a> : <a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/code_reference/command_reference.md#copy"> Copy</a> the Door object</li>
<li>Open the Level resource named <code>Level1</code></li>
<li><a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/zilch_editor_documentation/zilchmanual/editor/editorcommands/commands.md"> Command</a> : <a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/code_reference/command_reference.md#paste"> Paste</a> the Door object</li>
<li>In the <code>Properties Window</code></li>
<li>Under <a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/code_reference/class_reference/transform.md"> Transform</a></li>
<li>Set Translation  to <code>[5, -4, 0]</code></li>
<li>Under <code>LoadLevelOnCollisionStarted</code></li>
<li>Set LevelToLoad resource to <code>Level2</code></li>
</ul>
<p><img src="https://raw.githubusercontent.com/ZilchEngine/ZilchFiles/master/doc_files/96106.png" alt="image"></p>
<p><em>Level 1 now has a door</em></p>
<ul>
<li><a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/zilch_editor_documentation/zilchmanual/editor/editorcommands/commands.md"> Command</a> : <a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/code_reference/command_reference.md#playgame"> PlayGame</a></li>
</ul>
<p><img src="https://raw.githubusercontent.com/ZilchEngine/ZilchFiles/master/doc_files/96112.gif" alt="Level switching"></p>
<p>If you move the player to the door, the other level is loaded.</p>
<ul>
<li><a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/zilch_editor_documentation/zilchmanual/editor/editorcommands/commands.md"> Command</a> : <a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/code_reference/command_reference.md#stopgame"> StopGame</a></li>
</ul>
<p>(NOTE) <strong>A Closer Look:</strong>
When the player touches the door in Level 1, Level 2 is loaded. So what happens to Level 1? When a space's LoadLevel function is called, first, all the objects in that space are destroyed: the player, the door, the camera, the renderer, all of them. Then, all the objects in Level 2 are created. This happens every time a space changes levels.</p>
<h1 id="reloading-a-level">Reloading a Level</h1>
<p>Just as the space has a function to load a level, it also has a function to reload the current level.</p>
<ul>
<li><a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/zilch_editor_documentation/zilchmanual/editor/editorcommands/commands.md"> Command</a> : <a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/zilch_editor_documentation/zilchmanual/editor/editorcommands/resourceadding.md"> Add Resource</a></li>
<li>Create a NadaScript resource using the Component template template and name it <code>ReloadLevelOnKeyDown</code></li>
<li>Update the <code>ReloadLevelOnKeyDown</code> script to the following:</li>
</ul>
<pre><code class="lang-lang=csharp,">class ReloadLevelOnKeyDown : NadaComponent
{
  function Initialize(init : CogInitializer)
  {
    Zilch.Connect(Zilch.Keyboard, Events.KeyDown, this.OnKeyDown);
  }
  
  function OnKeyDown(event : KeyboardEvent)
  {
    if (event.Key == Keys.R &amp;&amp; event.CtrlPressed)
      this.Space.ReloadLevel();
  }
}
</code></pre>
<p>Calling the ReloadLevel function does the same thing as calling the LoadLevel function and passing in the current level.</p>
<ul>
<li><a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/zilch_editor_documentation/zilchmanual/editor/editorcommands/commands.md"> Command</a> : <a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/code_reference/command_reference.md#selectspace"> Select the Space</a></li>
<li>In the <code>Properties Window</code></li>
<li><a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/zilch_editor_documentation/zilchmanual/editor/addremovecomponent.md"> Add Component</a> : <code>ReloadLevelOnKeyDown</code></li>
<li><a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/zilch_editor_documentation/zilchmanual/editor/editorcommands/commands.md"> Command</a> : <a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/code_reference/command_reference.md#playgame"> PlayGame</a></li>
</ul>
<p><img src="https://raw.githubusercontent.com/ZilchEngine/ZilchFiles/master/doc_files/96114.gif" alt="Level reloading"></p>
<p>You can now reload the level by pressing key <code>Ctrl + R</code>.</p>
<ul>
<li><a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/zilch_editor_documentation/zilchmanual/editor/editorcommands/commands.md"> Command</a> : <a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/code_reference/command_reference.md#stopgame"> StopGame</a></li>
</ul>
<p>(NOTE)<strong>A Closer Look:</strong>
Reloading a level is just the same as loading it again, so it goes through the same process. First, everything present is destroyed. Then, everything in the level is created anew. This means that all of its objects, and all of their components, are reinitialized. However, this does <em>not</em> destroy the space that contains the level, which is only initialized when it is created, and destroyed when the user explicitly destroys it in script (or when the game ends).</p>
<h1 id="setting-a-games-starting-level">Setting a Game's Starting Level</h1>
<p>When a Zilch game is <a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/code_reference/command_reference.md#playgame"> played in the editor</a>, the default game setup loads the level that is currently being edited. When the game is exported, however, this isn't necessarily the first level to be loaded. As a matter of fact, there is a component on the GameSession aptly named <a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/code_reference/class_reference/defaultgamesetup.md"> DefaultGameSetup</a>, which manages this.</p>
<ul>
<li><a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/zilch_editor_documentation/zilchmanual/editor/editorcommands/commands.md"> Command</a> : <a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/code_reference/command_reference.md#selectgame"> Select the Game</a></li>
<li>In the <code>Properties Window</code></li>
<li>Expand <a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/code_reference/class_reference/defaultgamesetup.md"> DefaultGameSetup</a></li>
</ul>
<p><img src="https://raw.githubusercontent.com/ZilchEngine/ZilchFiles/master/doc_files/96116.png" alt="image"></p>
<p>Here, we can see some useful properties: StartingSpace enum specifies the archetype to use for creating the game's default space. StartingLevel enum determines which level is loaded into that space after it's created. LoadEditingLevel checkBox tells the engine whether it should override the starting level when the game is being run in the editor, and instead load the level that's being edited.</p>
<p>Let's make a new level, a title screen, and set it as the starting level.</p>
<h2 id="creating-a-title-screen">Creating a Title Screen</h2>
<ul>
<li><a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/zilch_editor_documentation/zilchmanual/editor/editorcommands/commands.md"> Command</a> : <a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/zilch_editor_documentation/zilchmanual/editor/editorcommands/resourceadding.md"> Add Resource</a></li>
<li>Create a Level resource using the {nav icon=clone, name=&quot;2D Level&quot;} template and name it <code>TitleScreen</code></li>
<li><a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/zilch_editor_documentation/zilchmanual/editor/editorcommands/commands.md"> Command</a> : <a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/code_reference/command_reference.md#createspritetext"> CreateSpriteText</a></li>
<li>In the <code>Properties Window</code></li>
<li>Under <a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/code_reference/class_reference/transform.md"> Transform</a></li>
<li>Set Translation  to <code>[0, 3, 0]</code></li>
<li>Under <a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/code_reference/class_reference/spritetext.md"> SpriteText</a></li>
<li>Set Text  to <code>Azomarith's Revenge 2: Shadows of the Fallen</code></li>
<li>Set PixelsPerUnit  to <code>32</code></li>
<li><a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/zilch_editor_documentation/zilchmanual/editor/editorcommands/commands.md"> Command</a> : <a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/code_reference/command_reference.md#createspritetext"> CreateSpriteText</a></li>
<li>In the <code>Properties Window</code></li>
<li>Under <a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/code_reference/class_reference/transform.md"> Transform</a></li>
<li>Set Translation  to <code>[0, 2, 0]</code></li>
<li>Under <a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/code_reference/class_reference/spritetext.md"> SpriteText</a></li>
<li>Set Text  to <code>Game of the Year Edition</code></li>
<li>Set FontSize  to <code>24</code></li>
<li>Set PixelsPerUnit  to <code>32</code></li>
<li><a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/zilch_editor_documentation/zilchmanual/editor/editorcommands/commands.md"> Command</a> : <a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/code_reference/command_reference.md#createspritetext"> CreateSpriteText</a></li>
<li>In the <code>Properties Window</code></li>
<li>Under <a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/code_reference/class_reference/transform.md"> Transform</a></li>
<li>Set Translation  to <code>[0, -3, 0]</code></li>
<li>Under <a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/code_reference/class_reference/spritetext.md"> SpriteText</a></li>
<li>Set Text  to <code>Press Enter</code></li>
<li>Set FontSize  to <code>18</code></li>
<li>Set PixelsPerUnit  to <code>32</code></li>
</ul>
<p><img src="https://raw.githubusercontent.com/ZilchEngine/ZilchFiles/master/doc_files/96118.png" alt="image"></p>
<ul>
<li><a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/zilch_editor_documentation/zilchmanual/editor/editorcommands/commands.md"> Command</a> : <a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/code_reference/command_reference.md#selectgame"> Select the Game</a></li>
<li>In the <code>Properties Window</code></li>
<li>Under <a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/code_reference/class_reference/defaultgamesetup.md"> DefaultGameSetup</a></li>
<li>Set StartingLevel enum to <code>TitleScreen</code></li>
<li>Set LoadEditingLevel checkBox to <code>false</code></li>
<li>Open the Level resource named <code>Level1</code></li>
<li><a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/zilch_editor_documentation/zilchmanual/editor/editorcommands/commands.md"> Command</a> : <a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/code_reference/command_reference.md#playgame"> PlayGame</a></li>
</ul>
<p>Even though we're editing Level 1, the editor loads the title screen, thanks to how the DefaultGameSetup has been configured.</p>
<ul>
<li><a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/zilch_editor_documentation/zilchmanual/editor/editorcommands/commands.md"> Command</a> : <a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/code_reference/command_reference.md#stopgame"> StopGame</a></li>
</ul>
<p>Next, we need a component to load Level 1 from the title screen.</p>
<ul>
<li>Open the Level resource named <code>TitleScreen</code></li>
<li><a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/zilch_editor_documentation/zilchmanual/editor/editorcommands/commands.md"> Command</a> : <a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/zilch_editor_documentation/zilchmanual/editor/editorcommands/resourceadding.md"> Add Resource</a></li>
<li>Create a NadaScript resource using the Component template template and name it <code>LoadLevelOnKeyDown</code></li>
<li>Update the <code>LoadLevelOnKeyDown</code> script to the following:</li>
</ul>
<pre><code class="lang-lang=csharp,">class LoadLevelOnKeyDown : NadaComponent
{
  [Property]
  var LevelToLoad : Level = Level.Level1;
  [Property]
  var Key : Keys = Keys.Enter;
  
  function Initialize(init : CogInitializer)
  {
    Zilch.Connect(Zilch.Keyboard, Events.KeyDown, this.OnKeyDown);
  }
  
  function OnKeyDown(event : KeyboardEvent)
  {
    if (event.Key == this.Key)
      this.Space.LoadLevel(this.LevelToLoad);
  }
}
</code></pre>
<ul>
<li><a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/zilch_editor_documentation/zilchmanual/editor/editorcommands/selectobject.md"> Select</a> : LevelSettings object</li>
<li>In the <code>Properties Window</code></li>
<li><a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/zilch_editor_documentation/zilchmanual/editor/addremovecomponent.md"> Add Component</a> : <code>LoadLevelOnKeyDown</code></li>
<li>Open the Level resource named <code>Level1</code></li>
<li><a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/zilch_editor_documentation/zilchmanual/editor/editorcommands/commands.md"> Command</a> : <a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/code_reference/command_reference.md#playgame"> PlayGame</a></li>
</ul>
<p><img src="https://raw.githubusercontent.com/ZilchEngine/ZilchFiles/master/doc_files/96125.gif" alt="Level sequence"></p>
<p><em>The game starts with the title screen, then goes to Level 1</em></p>
<p>Now the game always starts with the title screen, and from there goes into Level 1 via the <code>Enter</code> key.</p>
<h1 id="related-materials">Related Materials</h1>
<h2 id="manual">Manual</h2>
<ul>
<li><a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/zilch_editor_documentation/zilchmanual/editor/editorcommands/launchernewproject.md">launchernewproject</a></li>
<li><a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/zilch_editor_documentation/zilchmanual/editor/editorcommands/commands.md">commands</a></li>
<li><a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/zilch_editor_documentation/zilchmanual/editor/editorcommands/resourceadding.md">resourceadding</a></li>
<li><a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/zilch_editor_documentation/zilchmanual/editor/editorcommands/selectobject.md">selectobject</a></li>
<li><a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/zilch_editor_documentation/zilchmanual/editor/addremovecomponent.md">addremovecomponent</a></li>
</ul>
<h2 id="reference">Reference</h2>
<h3 id="classes">Classes</h3>
<ul>
<li><a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/code_reference/class_reference/transform.md">transform</a></li>
<li><a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/code_reference/class_reference/spritetext.md">spritetext</a></li>
<li><a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/code_reference/class_reference/sprite.md">sprite</a></li>
<li><a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/code_reference/class_reference/spherecollider.md">spherecollider</a></li>
<li><a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/code_reference/class_reference/boxcollider.md">boxcollider</a></li>
<li><a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/code_reference/class_reference/rigidbody.md">rigidbody</a></li>
<li><a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/code_reference/class_reference/space.md">space</a></li>
<li><a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/code_reference/class_reference/defaultgamesetup.md">defaultgamesetup</a></li>
</ul>
<h3 id="commands">Commands</h3>
<ul>
<li><a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/code_reference/command_reference.md#createspritetext"> CreateSpriteText</a></li>
<li><a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/code_reference/command_reference.md#createsprite"> CreateSprite</a></li>
<li><a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/code_reference/command_reference.md#playgame"> PlayGame</a></li>
<li><a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/code_reference/command_reference.md#stopgame"> StopGame</a></li>
<li><a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/code_reference/command_reference.md#paste"> Paste</a></li>
<li><a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/code_reference/command_reference.md#selectspace"> SelectSpace</a></li>
<li><a href="https://github.com/ZilchEngine/ZilchDocs/blob/master/code_reference/command_reference.md#selectgame"> SelectGame</a></li>
</ul>
<h2 id="development-task">Development Task</h2>
<ul>
<li>{T1172}</li>
</ul>

</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/ZilchEngine/ZilchEngineWebsite/blob/master/docs/zilch_editor_documentation/tutorials/architecture/levels.md/#L1" class="edit-link">Edit this page</a>
        </div>

        <div class="next-article d-print-none border-top" id="nextArticle"></div>

      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          ZilchEngine 2024
        </div>
      </div>
    </footer>
  </body>
</html>
